-- 1. 創建資料表
CREATE TABLE meal_plan_daily_targets (
    daily_target_id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    plan_id INT NOT NULL,
    target_date DATE NOT NULL,
    target_kcal INT DEFAULT 2000 COMMENT '當天的目標熱量值，若為 NULL 則邏輯預設為 2000',
    CONSTRAINT fk_target_plan FOREIGN KEY (plan_id) REFERENCES meal_plans(plan_id) ON DELETE CASCADE
);

-- 2. 匯入初始資料 (根據 meal_plans 的日期區間)
INSERT INTO meal_plan_daily_targets (plan_id, target_date, target_kcal) VALUES
-- 計畫 1: 2026-01-19 ~ 2026-01-21
(1, '2026-01-19', 2000),
(1, '2026-01-20', 2000),
(1, '2026-01-21', 2000),

-- 計畫 2: 2026-01-22 ~ 2026-01-24
(2, '2026-01-22', 2000),
(2, '2026-01-23', 2000),
(2, '2026-01-24', 2000),

-- 計畫 3: 2026-02-16 ~ 2026-02-20
(3, '2026-02-16', 2000),
(3, '2026-02-17', 2000),
(3, '2026-02-18', 2000),
(3, '2026-02-19', 2000),
(3, '2026-02-20', 2000),

-- 計畫 4: 2026-02-10 ~ 2026-02-15
(4, '2026-02-10', 2000),
(4, '2026-02-11', 2000),
(4, '2026-02-12', 2000),
(4, '2026-02-13', 2000),
(4, '2026-02-14', 2000),
(4, '2026-02-15', 2000),

-- 計畫 5: 2026-02-16 ~ 2026-02-18
(5, '2026-02-16', 2000),
(5, '2026-02-17', 2000),
(5, '2026-02-18', 2000),

-- 計畫 6: 2026-03-13 ~ 2026-03-15
(6, '2026-03-13', 2000),
(6, '2026-03-14', 2000),
(6, '2026-03-15', 2000),

-- 計畫 7: 2026-05-19 ~ 2026-05-21
(7, '2026-05-19', 2000),
(7, '2026-05-20', 2000),
(7, '2026-05-21', 2000);